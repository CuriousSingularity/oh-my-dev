{
  "model": "sonnet",
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); dir=$(basename \"$cwd\"); git_info=\"\"; if git -C \"$cwd\" rev-parse --git-dir >/dev/null 2>&1; then branch=$(git -C \"$cwd\" branch --show-current 2>/dev/null || git -C \"$cwd\" rev-parse --short HEAD 2>/dev/null); if ! git -C \"$cwd\" diff-index --quiet HEAD -- 2>/dev/null; then git_info=\" $(printf '\\033[33m')⎇ ${branch}*$(printf '\\033[0m')\"; else git_info=\" $(printf '\\033[32m')⎇ ${branch}$(printf '\\033[0m')\"; fi; fi; usage=$(echo \"$input\" | jq '.context_window.current_usage'); ctx=\"\"; if [ \"$usage\" != \"null\" ]; then current=$(echo \"$usage\" | jq '.input_tokens + .cache_creation_input_tokens + .cache_read_input_tokens'); size=$(echo \"$input\" | jq '.context_window.context_window_size'); pct=$((current * 100 / size)); ctx=\" $(printf '\\033[36m')${pct}%%$(printf '\\033[0m')\"; fi; printf \"$(printf '\\033[34m')%s$(printf '\\033[0m')%s%s\" \"$dir\" \"$git_info\" \"$ctx\""
  }
}
